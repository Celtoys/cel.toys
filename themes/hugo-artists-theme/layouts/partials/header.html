{{ "<!-- Header section -->" | safeHTML }}
<header id="header">
    <nav id="title">
        <a href="#header">celtoys</celtoys>
    </nav>
    <nav id="links">
        {{ with .Site.Params.about.title }}<a href="#about-me">{{ . }}</a>{{ end }}
        {{ with .Site.Data.work.title }}<a href="#work">{{ . }}</a>{{ end }}
        {{ with .Site.Data.clients.title }}<a href="#clients">{{ . }}</a>{{ end }}
        {{ with .Site.Params.contact.title }}<a href="#contact">{{ . }}</a>{{ end }}
    </nav>
    {{ with .Site.Params.header.title }}<h1><span>{{ . }}</span></h1>{{ end }}
    {{ with .Site.Params.header.shortBio }}<p class="kicker">{{ . }}</p>{{ end }}

    <script>
        CeltoysLogo = (function()
        {
            var SVG = `
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="logo" class="logo" xml:space="preserve" viewBox="-10 -10 270 270">
                    <defs xmlns="" />
                    <g xmlns="" id="Layer 01" type="LAYER" name="Layer 01">
                        <circle cx="125" cy="125" r="130" fill="#ffffff"/>
                        <path id="path10" transform="matrix(1 0 0 1 -103.44562427331272 -79.6698035951669)" width="245" height="245.00000000000028"
                            stroke-width="5.628002757390025" stroke-miterlimit="3" stroke="none" fill="#0C4400" d="M199.99461369014313,84.47432904542663 C228.20773325507696,78.9058169132293 258.8667482661658,81.13322176610902 284.34956593771994,94.943131853957 C323.48389307617714,115.1568308938327 349.93369266830314,156.6979314000215 350.4456242733127,200.1880111524797 C352.208944246121,240.33698362561978 332.52801809799996,280.76438170537 299.1387011935327,304.31918802456227 C260.3456617917467,332.7185998987658 203.17996589908694,334.27778329578115 162.85113168227485,308.05009115313436 C119.28006396707408,281.26554779726763 96.75507334668137,226.47138841644949 108.47261897244096,177.5798518957601 C117.40298141537377,132.92038459554084 154.7171072915773,94.88744673263456 199.99461369014313,84.47432904542663 Z "
                        />
                        <path id="path12" transform="matrix(1 0 0 1 -89.55413271936538 -65.11733645860863)" width="220.0000000000003"
                            height="220.0000000000001" stroke-width="5.610028554148878" stroke-miterlimit="3" stroke="none" fill="#ffffff"
                            d="M195.70777271210957,97.53380464506687 C226.86890009579642,88.55115748616893 262.45729147934946,93.09792950487011 289.0776352734267,111.72860509369498 C325.1768648108117,135.12784645823112 343.2264795795047,180.04108225271742 336.1882650156117,221.35016949579733 C329.0932906568495,272.30728516880276 280.3933866583013,315.2243771502015 227.09593927527695,313.11733645860875 C169.8820660462134,315.2243771502015 119.70640738104444,265.15443650523497 117.66305476572151,210.26048164530607 C113.63310932994384,161.077716028379 147.00786871356283,111.61770821518981 195.70777271210957,97.53380464506687 Z "
                        />
                        <path id="path14" transform="matrix(1 0 0 1 -91.9552100355509 -67.8498262341808)" width="202.00000000000017"
                            height="202.00000000000009" stroke-width="5.682647860386301" stroke-miterlimit="3" stroke="none" fill="#1A8800"
                            d="M197.7696244909326,110.42093655319867 C255.46439157754847,88.76425770807202 323.3777343272652,132.24636873997423 329.63517672770274,191.64754500088986 C339.8537523908051,248.8549278203521 290.2534750148501,309.49362858670315 229.86054469134737,306.8498262341821 C161.66016329941098,309.5498797005866 110.28024634167767,232.82336036357032 135.25260821498952,171.79090180003448 C145.87303797720156,143.55284263054625 168.4916829842929,120.26488148280036 197.7696244909326,110.42093655319867 Z "
                        />
                        <path id="path16" transform="matrix(1 0 0 1 -90.81199852267099 -68.9145435709809)" width="75.69850988784802"
                            height="171.6985724805407" stroke-width="5.6960129668198185" stroke-miterlimit="3" stroke="none" fill="#ffffff"
                            d="M198.48828812966994,186.81256596708687 C188.4245647042779,169.9001721179988 202.8244035448196,147.82688856794408 210.34817804765507,137.90105753871507 C197.73371643305407,164.6261560367704 204.86067838952576,183.4616983503031 228.27783910364744,185.49797319500925 C255.76754950718149,186.0070419061858 270.9868684560063,145.18423935607944 261.8763740413001,122.37345300911613 C271.5458861287251,136.8287022846921 275.2319421876218,170.95305065173034 263.74061228054177,186.88478019192638 C252.3382589801964,202.36786182064338 233.72720593031855,205.6275136230915 217.27522370226072,200.95640659939727 C220.65945513430788,222.73323479972788 245.88304975503084,234.5453088257712 254.10415667742453,257.41907828494413 C260.3563808484954,273.5961506623332 245.1560193316723,284.6259727378243 234.60180605206884,294.0720254896568 C239.9936324014329,283.55127212534137 255.47688698604557,273.26885341896093 247.16361424898932,260.92599607305004 C234.7165257616294,245.93675068840622 213.64644719435032,225.39348446243105 205.3697471007023,213.49675230971985 C197.22098816314227,201.78391840076154 207.27269750593527,198.25549164537858 198.48828812966994,186.81256596708687 Z "
                        />
                    </g>
                </svg>`;
            
            function CeltoysLogo(parent_node)
            {
                // Create the svg and add it to the parent
                var div = document.createElement("div");
                div.innerHTML = SVG;
                console.log(SVG);
                this.Node = div.firstChild.nextSibling;
                parent_node.appendChild(this.Node);
                this.Node.style.position = "fixed";
                this.Node.style.zIndex = 3;

                // Get logo size from the view box
                var view_box = this.Node.getAttribute("viewBox").split(" ");
                this.LogoWidth = parseInt(view_box[2]);
                this.LogoHeight = parseInt(view_box[3]);

                // Behaviour config parameters
                this.ScaleMin = 0.25;
                this.ScaleRange = 0.75;
                this.TopMin = 10;

                // Scroll state
                this.IsScrolling = false;
                this.DoSnap = true;
                this.Current_t = 0;

                // Setup window event handlers
                var self = this;
                window.onload = function() { MatchScroll(self); };
                window.onscroll = function() { HandleScroll(self); };
                window.onresize = function() { HandleResize(self); };
            }

            function SetPosition(self, t)
            {
                var scale = self.ScaleMin + self.ScaleRange * t;

                // Setting svg width will also affect height as aspect ratio is preserved
                var width = self.LogoWidth * scale;
                self.Node.style.width = width + "px";

                // Height style won't be set so need to do that manually for positioning
                var height = self.LogoHeight * scale;
                self.Node.style.height = height + "px";

                // Center logo horizontally
                var left = window.innerWidth / 2 - width / 2;
                self.Node.style.left = left + "px";

                // Match vertical scroll
                var top_scale = window.innerHeight / 2 - self.LogoHeight / 2 - self.TopMin;
                var top = self.TopMin + top_scale * t;
                self.Node.style.top = top + "px";
            }

            function MatchScroll(self)
            {
                // Determine unit interpolation parameter between start/end of scale effect
                var scroll_divisor = window.innerHeight / 2 - self.LogoHeight + self.TopMin;
                var target_t = 1 - Math.min(window.scrollY / scroll_divisor, 1);

                // Ease or snap toward target interpolation
                if (self.DoSnap)
                    self.Current_t = target_t;
                else
                    self.Current_t = self.Current_t + (target_t - self.Current_t) * 0.3;

                // Snap is a one-time event so cancel that
                self.DoSnap = false;

                SetPosition(self, self.Current_t);

                // Cancel scrolling once the target is reached
                if (Math.abs(target_t - self.Current_t) <= 0.001)
                {
                    self.IsScrolling = false;
                    return;
                }

                // Reschedule another attempt to match window scroll
                setTimeout(function() { MatchScroll(self); }, 16);
            }

            function HandleScroll(self)
            {
                if (!self.IsScrolling)
                {
                    self.IsScrolling = true;
                    MatchScroll(self);
                }
            }

            function HandleResize(self)
            {
                if (!self.IsScrolling)
                {
                    self.IsScrolling = true;
                    self.DoSnap = true;
                    MatchScroll(self);
                }
            }
        
            return CeltoysLogo;

        })();

        var logo = new CeltoysLogo(document.body);
    </script>
</header>
